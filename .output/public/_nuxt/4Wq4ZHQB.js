import{d as se,r as A,o as ae,F as ne,y as v,z as y,A as o,C as oe,G as S,E as B,H as m,I as Q,J as V,K as ie,L as le,M as ce,N as de,O as X,P as Y,B as g,D as ue,T as he,n as me}from"./D4P82vsF.js";var $;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})($||($={}));class T extends Error{constructor(e,t,a){super(e),this.message=e,this.code=t,this.data=a}}const pe=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},fe=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},a=t.Plugins=t.Plugins||{},s=()=>e!==null?e.name:pe(n),r=()=>s()!=="web",l=f=>{const w=b.get(f);return!!(w?.platforms.has(s())||c(f))},c=f=>{var w;return(w=t.PluginHeaders)===null||w===void 0?void 0:w.find(R=>R.name===f)},p=f=>n.console.error(f),b=new Map,x=(f,w={})=>{const R=b.get(f);if(R)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),R.proxy;const _=s(),E=c(f);let k;const F=async()=>(!k&&_ in w?k=typeof w[_]=="function"?k=await w[_]():k=w[_]:e!==null&&!k&&"web"in w&&(k=typeof w.web=="function"?k=await w.web():k=w.web),k),G=(h,d)=>{var C,L;if(E){const U=E?.methods.find(P=>d===P.name);if(U)return U.rtype==="promise"?P=>t.nativePromise(f,d.toString(),P):(P,H)=>t.nativeCallback(f,d.toString(),P,H);if(h)return(C=h[d])===null||C===void 0?void 0:C.bind(h)}else{if(h)return(L=h[d])===null||L===void 0?void 0:L.bind(h);throw new T(`"${f}" plugin is not implemented on ${_}`,$.Unimplemented)}},O=h=>{let d;const C=(...L)=>{const U=F().then(P=>{const H=G(P,h);if(H){const q=H(...L);return d=q?.remove,q}else throw new T(`"${f}.${h}()" is not implemented on ${_}`,$.Unimplemented)});return h==="addListener"&&(U.remove=async()=>d()),U};return C.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:h,writable:!1,configurable:!1}),C},z=O("addListener"),D=O("removeListener"),u=(h,d)=>{const C=z({eventName:h},d),L=async()=>{const P=await C;D({eventName:h,callbackId:P},d)},U=new Promise(P=>C.then(()=>P({remove:L})));return U.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},U},i=new Proxy({},{get(h,d){switch(d){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return E?u:z;case"removeListener":return D;default:return O(d)}}});return a[f]=i,b.set(f,{name:f,proxy:i,platforms:new Set([...Object.keys(w),...E?[_]:[]])}),i};return t.convertFileSrc||(t.convertFileSrc=f=>f),t.getPlatform=s,t.handleError=p,t.isNativePlatform=r,t.isPluginAvailable=l,t.registerPlugin=x,t.Exception=T,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},be=n=>n.Capacitor=fe(n),M=be(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),W=M.registerPlugin;class K{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),a&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,t);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,a){const s=this.listeners[e];if(!s){if(a){let r=this.retainedEventArguments[e];r||(r=[]),r.push(t),this.retainedEventArguments[e]=r}return}s.forEach(r=>r(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:a=>{this.notifyListeners(t,a)}}}unimplemented(e="not implemented"){return new M.Exception(e,$.Unimplemented)}unavailable(e="not available"){return new M.Exception(e,$.Unavailable)}async removeListener(e,t){const a=this.listeners[e];if(!a)return;const s=a.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(a=>{this.notifyListeners(e,a)}))}}const Z=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ee=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class we extends K{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[s,r]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=ee(s).trim(),r=ee(r).trim(),t[s]=r}),t}async setCookie(e){try{const t=Z(e.key),a=Z(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${a||""}${s}; path=${r}; ${l};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}W("CapacitorCookies",{web:()=>new we});const ge=async n=>new Promise((e,t)=>{const a=new FileReader;a.onload=()=>{const s=a.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},a.onerror=s=>t(s),a.readAsDataURL(n)}),ve=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(s=>s.toLocaleLowerCase()).reduce((s,r,l)=>(s[r]=n[e[l]],s),{})},ye=(n,e=!0)=>n?Object.entries(n).reduce((a,s)=>{const[r,l]=s;let c,p;return Array.isArray(l)?(p="",l.forEach(b=>{c=e?encodeURIComponent(b):b,p+=`${r}=${c}&`}),p.slice(0,-1)):(c=e?encodeURIComponent(l):l,p=`${r}=${c}`),`${a}&${p}`},"").substr(1):null,xe=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),s=ve(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(s.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[l,c]of Object.entries(n.data||{}))r.set(l,c);t.body=r.toString()}else if(s.includes("multipart/form-data")||n.data instanceof FormData){const r=new FormData;if(n.data instanceof FormData)n.data.forEach((c,p)=>{r.append(p,c)});else for(const c of Object.keys(n.data))r.append(c,n.data[c]);t.body=r;const l=new Headers(t.headers);l.delete("content-type"),t.headers=l}else(s.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class ke extends K{async request(e){const t=xe(e,e.webFetchExtra),a=ye(e.params,e.shouldEncodeUrlParams),s=a?`${e.url}?${a}`:e.url,r=await fetch(s,t),l=r.headers.get("content-type")||"";let{responseType:c="text"}=r.ok?e:{};l.includes("application/json")&&(c="json");let p,b;switch(c){case"arraybuffer":case"blob":b=await r.blob(),p=await ge(b);break;case"json":p=await r.json();break;default:p=await r.text()}const x={};return r.headers.forEach((f,w)=>{x[w]=f}),{data:p,headers:x,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}W("CapacitorHttp",{web:()=>new ke});var te;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(te||(te={}));var re;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(re||(re={}));class Pe extends K{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}W("SystemBars",{web:()=>new Pe});var j;(function(n){n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS"})(j||(j={}));var I;(function(n){n.Rear="REAR",n.Front="FRONT"})(I||(I={}));var J;(function(n){n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl"})(J||(J={}));class Ce extends K{async getPhoto(e){return new Promise(async(t,a)=>{if(e.webUseInput||e.source===j.Photos)this.fileInputExperience(e,t,a);else if(e.source===j.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async r=>{r.detail===0?this.fileInputExperience(e,t,a):this.cameraExperience(e,t,a)})}else this.cameraExperience(e,t,a)})}async pickImages(e){return new Promise(async(t,a)=>{this.multipleFileInputExperience(t,a)})}async cameraExperience(e,t,a){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===I.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async r=>{const l=r.detail;l===null?a(new T("User cancelled photos app")):l instanceof Error?a(l):t(await this._getCameraPhoto(l,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,t,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,a)}fileInputExperience(e,t,a){let s=document.querySelector("#_capacitor-camera-input");const r=()=>{var l;(l=s.parentNode)===null||l===void 0||l.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",l=>{const c=s.files[0];let p="jpeg";if(c.type==="image/png"?p="png":c.type==="image/gif"&&(p="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const b=new FileReader;b.addEventListener("load",()=>{if(e.resultType==="dataUrl")t({dataUrl:b.result,format:p});else if(e.resultType==="base64"){const x=b.result.split(",")[1];t({base64String:x,format:p})}r()}),b.readAsDataURL(c)}else t({webPath:URL.createObjectURL(c),format:p}),r()}),s.addEventListener("cancel",l=>{a(new T("User cancelled photos app")),r()})),s.accept="image/*",s.capture=!0,e.source===j.Photos||e.source===j.Prompt?s.removeAttribute("capture"):e.direction===I.Front?s.capture="user":e.direction===I.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,t){let a=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var r;(r=a.parentNode)===null||r===void 0||r.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",r=>{const l=[];for(let c=0;c<a.files.length;c++){const p=a.files[c];let b="jpeg";p.type==="image/png"?b="png":p.type==="image/gif"&&(b="gif"),l.push({webPath:URL.createObjectURL(p),format:b})}e({photos:l}),s()}),a.addEventListener("cancel",r=>{t(new T("User cancelled photos app")),s()})),a.accept="image/*",a.click()}_getCameraPhoto(e,t){return new Promise((a,s)=>{const r=new FileReader,l=e.type.split("/")[1];t.resultType==="uri"?a({webPath:URL.createObjectURL(e),format:l,saved:!1}):(r.readAsDataURL(e),r.onloadend=()=>{const c=r.result;t.resultType==="dataUrl"?a({dataUrl:c,format:l,saved:!1}):a({base64String:c.split(",")[1],format:l,saved:!1})},r.onerror=c=>{s(c)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const N=W("Camera",{web:()=>new Ce}),_e={class:"min-h-screen flex flex-col"},Ee={class:"bg-black/30 backdrop-blur-sm border-b border-white/10 px-4 py-3"},Le={class:"flex items-center justify-between"},Ue={class:"flex-1 flex flex-col p-4"},Ae={key:0,class:"flex-1 flex flex-col items-center justify-center gap-6"},Se={class:"relative w-full max-w-sm aspect-[2.5/3.5] rounded-2xl overflow-hidden bg-black/40 border-2 border-dashed border-white/30"},je={key:1,class:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-indigo-900/50 to-purple-900/50"},Re={key:2,class:"absolute inset-0 flex items-center justify-center bg-black/50"},Oe={class:"text-white/70 text-center text-sm px-4"},Te={class:"w-full max-w-sm"},Me={class:"relative"},$e={class:"flex gap-4"},Be=["disabled"],Ie=["disabled"],Fe={key:0,class:"w-full max-w-sm max-h-60 overflow-y-auto bg-black/30 rounded-xl border border-white/10"},ze=["onClick"],De={class:"font-medium"},He={class:"text-sm text-white/60"},qe={key:1,class:"flex-1 flex flex-col gap-4 animate-fade-in"},Ve={class:"flex justify-center"},We={class:"relative"},Ke=["src","alt"],Ge={class:"bg-black/30 backdrop-blur-sm rounded-2xl p-4 border border-white/10"},Ne={class:"flex items-start justify-between mb-3"},Je={class:"text-xl font-bold text-white"},Qe={class:"text-white/60 text-sm"},Xe={class:"grid grid-cols-2 gap-3 mb-4"},Ye={class:"bg-white/5 rounded-lg p-3"},Ze={class:"text-white font-medium"},et={class:"bg-white/5 rounded-lg p-3"},tt={class:"text-white font-medium capitalize"},rt={class:"bg-white/5 rounded-lg p-3"},st={class:"text-white font-medium"},at={class:"bg-white/5 rounded-lg p-3"},nt={class:"text-white font-medium"},ot={key:0,class:"mb-4"},it={class:"text-lorcana-amber font-semibold text-sm"},lt={class:"text-white/80 text-sm"},ct={key:1,class:"border-t border-white/10 pt-3"},dt={class:"text-white/50 italic text-sm"},ut={class:"flex items-center justify-between mt-4 pt-3 border-t border-white/10"},ht={class:"text-white/50 text-sm"},mt={class:"text-white/50 text-sm"},pt={key:0,class:"fixed bottom-4 left-4 right-4 bg-red-500/90 backdrop-blur-sm text-white px-4 py-3 rounded-xl flex items-center gap-3"},ft={class:"flex-1 text-sm"},wt=se({__name:"index",setup(n){const e=me(),t=A(null),a=A(""),s=A([]),r=A(null),l=A(!1),c=A(""),p=A(!1),b=A(!1);let x=null;ae(async()=>{b.value=M.isNativePlatform(),await w()}),ne(()=>{R()});async function f(){try{const u=await N.checkPermissions();return u.camera==="granted"?!0:u.camera==="denied"?(c.value="Permission caméra refusée. Veuillez l'activer dans les paramètres de l'application.",!1):(await N.requestPermissions({permissions:["camera"]})).camera==="granted"}catch(u){return console.error("Permission check error:",u),!1}}async function w(){if(c.value="",M.isNativePlatform())await f()&&(p.value=!0);else try{x=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),t.value&&(t.value.srcObject=x),p.value=!0}catch(u){console.error("Camera access denied:",u),c.value="Impossible d'accéder à la caméra. Veuillez autoriser l'accès."}}function R(){x&&(x.getTracks().forEach(u=>u.stop()),x=null)}async function _(){l.value=!0,c.value="";try{let u;if(M.isNativePlatform()){if(!await f()){c.value="Permission caméra requise pour scanner les cartes.",l.value=!1;return}u=(await N.getPhoto({quality:90,allowEditing:!1,resultType:J.Base64,source:j.Camera,saveToGallery:!1,correctOrientation:!0})).base64String}else if(t.value){const i=document.createElement("canvas");i.width=t.value.videoWidth,i.height=t.value.videoHeight,i.getContext("2d")?.drawImage(t.value,0,0),u=i.toDataURL("image/jpeg").split(",")[1]}u&&await E()}catch(u){console.error("Scan error:",u),u.message?.includes("User cancelled")||u.message?.includes("canceled")?c.value="":c.value=u.message||"Erreur lors du scan. Veuillez réessayer."}finally{l.value=!1}}async function E(){const u=["Mickey","Elsa","Stitch","Maui","Ursula","Maleficent","Simba","Ariel"],i=u[Math.floor(Math.random()*u.length)],h=await F(i);h.length>0&&h[0]?r.value=h[0]:c.value="Aucune carte trouvée. Essayez de scanner à nouveau."}async function k(){if(a.value.trim()){l.value=!0,c.value="";try{const u=await F(a.value);s.value=u,u.length===0&&(c.value="Aucune carte trouvée pour cette recherche.")}catch(u){console.error("Search error:",u),c.value=u.message||"Erreur lors de la recherche."}finally{l.value=!1}}}async function F(u){try{const i=await fetch(`${e.public.apiBaseUrl}/cards/search?q=${encodeURIComponent(u)}`);if(!i.ok)throw new Error("Erreur lors de la recherche");const h=await i.json();return(h.cards||h||[]).map(d=>({id:d.id||d._id,name:d.name||d.title,subtitle:d.subtitle||d.version,type:d.type||"Personnage",ink:d.ink||d.color||"amber",cost:d.cost||d.inkCost||0,strength:d.strength||d.attack,willpower:d.willpower||d.defense,rarity:d.rarity||"Commune",set:d.set||d.setName||"The First Chapter",number:d.number||d.cardNumber||"001",totalInSet:d.totalInSet||"204",image:d.image||d.imageUrl||d.images?.full||`https://lorca-lab.com/cards/${d.id}.jpg`,abilities:d.abilities||[],flavorText:d.flavorText||d.flavor}))}catch(i){throw console.error("API Error:",i),i}}function G(u){r.value=u,s.value=[],a.value=""}function O(){r.value=null,s.value=[],a.value="",w()}function z(u){return{amber:"bg-lorcana-amber",amethyst:"bg-lorcana-amethyst",emerald:"bg-lorcana-emerald",ruby:"bg-lorcana-ruby",sapphire:"bg-lorcana-sapphire",steel:"bg-lorcana-steel"}[u.toLowerCase()]||"bg-gray-500"}function D(u){return{Commune:"bg-gray-500/50 text-gray-200",Common:"bg-gray-500/50 text-gray-200",Inhabituelle:"bg-green-500/50 text-green-200",Uncommon:"bg-green-500/50 text-green-200",Rare:"bg-blue-500/50 text-blue-200","Super Rare":"bg-purple-500/50 text-purple-200",Légendaire:"bg-yellow-500/50 text-yellow-200",Legendary:"bg-yellow-500/50 text-yellow-200",Enchanted:"bg-gradient-to-r from-pink-500/50 to-purple-500/50 text-pink-200"}[u]||"bg-gray-500/50 text-gray-200"}return(u,i)=>(y(),v("div",_e,[o("header",Ee,[o("div",Le,[i[3]||(i[3]=o("h1",{class:"text-xl font-bold text-white flex items-center gap-2"},[o("span",{class:"text-2xl"},"✨"),B(" Lorcana Scanner ")],-1)),m(r)?(y(),v("button",{key:0,onClick:O,class:"text-white/70 hover:text-white transition-colors"},[...i[2]||(i[2]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):S("",!0)])]),o("main",Ue,[m(r)?(y(),v("div",qe,[o("div",Ve,[o("div",We,[o("img",{src:m(r).image,alt:m(r).name,class:"w-64 rounded-xl shadow-2xl shadow-black/50"},null,8,Ke),o("div",{class:Y(["absolute -top-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold",z(m(r).ink)])},g(m(r).cost),3)])]),o("div",Ge,[o("div",Ne,[o("div",null,[o("h2",Je,g(m(r).name),1),o("p",Qe,g(m(r).subtitle),1)]),o("span",{class:Y(["px-3 py-1 rounded-full text-xs font-semibold",D(m(r).rarity)])},g(m(r).rarity),3)]),o("div",Xe,[o("div",Ye,[i[10]||(i[10]=o("p",{class:"text-white/50 text-xs uppercase tracking-wide"},"Type",-1)),o("p",Ze,g(m(r).type),1)]),o("div",et,[i[11]||(i[11]=o("p",{class:"text-white/50 text-xs uppercase tracking-wide"},"Encre",-1)),o("p",tt,g(m(r).ink),1)]),o("div",rt,[i[12]||(i[12]=o("p",{class:"text-white/50 text-xs uppercase tracking-wide"},"Force",-1)),o("p",st,g(m(r).strength||"-"),1)]),o("div",at,[i[13]||(i[13]=o("p",{class:"text-white/50 text-xs uppercase tracking-wide"}," Volonté ",-1)),o("p",nt,g(m(r).willpower||"-"),1)])]),m(r).abilities?.length?(y(),v("div",ot,[i[14]||(i[14]=o("p",{class:"text-white/50 text-xs uppercase tracking-wide mb-2"}," Capacités ",-1)),(y(!0),v(V,null,X(m(r).abilities,(h,d)=>(y(),v("div",{key:d,class:"bg-white/5 rounded-lg p-3 mb-2"},[o("p",it,g(h.name),1),o("p",lt,g(h.effect),1)]))),128))])):S("",!0),m(r).flavorText?(y(),v("div",ct,[o("p",dt,' "'+g(m(r).flavorText)+'" ',1)])):S("",!0),o("div",ut,[o("span",ht,g(m(r).set),1),o("span",mt,g(m(r).number)+"/"+g(m(r).totalInSet),1)])]),o("button",{onClick:O,class:"w-full py-4 bg-gradient-to-r from-lorcana-amethyst to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-lorcana-amethyst/30 transition-all"}," Scanner une autre carte ")])):(y(),v("div",Ae,[o("div",Se,[m(b)?S("",!0):(y(),v("video",{key:0,ref_key:"videoRef",ref:t,class:"absolute inset-0 w-full h-full object-cover",autoplay:"",playsinline:""},null,512)),m(b)?(y(),v("div",je,[...i[4]||(i[4]=[Q('<svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-lorcana-amber mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><p class="text-white/80 text-sm font-medium">Appuyez sur Scanner</p><p class="text-white/50 text-xs mt-1">pour ouvrir la caméra</p>',3)])])):S("",!0),i[6]||(i[6]=Q('<div class="absolute inset-0 flex items-center justify-center pointer-events-none"><div class="w-[90%] h-[90%] border-2 border-lorcana-amber rounded-xl relative"><div class="absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-lorcana-amber rounded-tl-lg"></div><div class="absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-lorcana-amber rounded-tr-lg"></div><div class="absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-lorcana-amber rounded-bl-lg"></div><div class="absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-lorcana-amber rounded-br-lg"></div></div></div>',1)),m(l)?(y(),v("div",Re,[...i[5]||(i[5]=[o("div",{class:"flex flex-col items-center gap-3"},[o("div",{class:"w-12 h-12 border-4 border-lorcana-amber border-t-transparent rounded-full animate-spin"}),o("span",{class:"text-white font-medium"},"Analyse en cours...")],-1)])])):S("",!0)]),o("p",Oe,[m(b)?(y(),v(V,{key:0},[B(" Appuyez sur le bouton Scanner pour prendre une photo de votre carte ")],64)):(y(),v(V,{key:1},[B(" Placez une carte Lorcana dans le cadre et appuyez sur le bouton pour scanner ")],64))]),o("div",Te,[o("div",Me,[ie(o("input",{"onUpdate:modelValue":i[0]||(i[0]=h=>de(a)?a.value=h:null),type:"text",placeholder:"Ou recherchez par nom...",class:"w-full px-4 py-3 pl-10 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:border-lorcana-amber focus:ring-1 focus:ring-lorcana-amber transition-all",onKeyup:ce(k,["enter"])},null,544),[[le,m(a)]]),i[7]||(i[7]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 absolute left-3 top-1/2 -translate-y-1/2 text-white/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),o("div",$e,[o("button",{onClick:_,disabled:m(l),class:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-lorcana-amber to-orange-500 text-white font-semibold rounded-xl shadow-lg shadow-lorcana-amber/30 hover:shadow-lorcana-amber/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[...i[8]||(i[8]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1),B(" Scanner ",-1)])],8,Be),o("button",{onClick:k,disabled:!m(a)||m(l),class:"flex items-center gap-2 px-6 py-3 bg-white/10 border border-white/20 text-white font-semibold rounded-xl hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[...i[9]||(i[9]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),B(" Rechercher ",-1)])],8,Ie)]),m(s).length>0?(y(),v("div",Fe,[(y(!0),v(V,null,X(m(s),h=>(y(),v("button",{key:h.id,onClick:d=>G(h),class:"w-full px-4 py-3 text-left text-white hover:bg-white/10 transition-colors border-b border-white/10 last:border-b-0"},[o("div",De,g(h.name),1),o("div",He,g(h.set)+" - "+g(h.rarity),1)],8,ze))),128))])):S("",!0)]))]),oe(he,{name:"slide-up"},{default:ue(()=>[m(c)?(y(),v("div",pt,[i[16]||(i[16]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("span",ft,g(m(c)),1),o("button",{onClick:i[1]||(i[1]=h=>c.value=""),class:"text-white/80 hover:text-white"},[...i[15]||(i[15]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):S("",!0)]),_:1})]))}});export{wt as default};
